{"remainingRequest":"/home/raul/Documentos/appMeetup/appmeetup/node_modules/babel-loader/lib/index.js!/home/raul/Documentos/appMeetup/appmeetup/src/api/utils.js","dependencies":[{"path":"/home/raul/Documentos/appMeetup/appmeetup/src/api/utils.js","mtime":1597149794429},{"path":"/home/raul/Documentos/appMeetup/appmeetup/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raul/Documentos/appMeetup/appmeetup/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGp3dCBmcm9tICdqd3QtZGVjb2RlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gVE9LRU4KCmV4cG9ydCBmdW5jdGlvbiBnZXRBdXRoVG9rZW4oKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdBVVRIX1RPS0VOX0tFWScpOwp9IC8vRnVuY3Rpb24gdG8gZ2V0IHRoZSBleHBpcmF0aW8gZGF0ZSBvZiB0aGUgdG9rZW4KCmV4cG9ydCBmdW5jdGlvbiB0b2tlbkV4cGlyYXRpb24oZW5jb2RlZFRva2VuKSB7CiAgdmFyIHRva2VuID0gand0KGVuY29kZWRUb2tlbik7CgogIGlmICghdG9rZW4uZXhwKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBkYXRlID0gbmV3IERhdGUoMCk7CiAgZGF0ZS5zZXRVVENTZWNvbmRzKHRva2VuLmV4cCk7CiAgcmV0dXJuIGRhdGU7Cn0gLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIHRva2VuIGlzIG9wZXJhdGlvbmFsIG9yIG5vdCAKCmV4cG9ydCBmdW5jdGlvbiBpc0V4cGlyZWQodG9rZW4pIHsKICB2YXIgZXhwaXJhdGlvbkRhdGUgPSB0b2tlbkV4cGlyYXRpb24odG9rZW4pOwogIHJldHVybiBleHBpcmF0aW9uRGF0ZSA8IG5ldyBEYXRlKCk7Cn0gLy/Cv0VTVEEgTE9HRUFETyBPIE5PPwoKZXhwb3J0IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7CiAgLy8gQ29uc2VndWltb3MgZWwgdG9rZW4gZGUgbGEgZnVuY2lvbiBhbnRlcmlvcgogIHZhciBhdXRoVG9rZW4gPSBnZXRBdXRoVG9rZW4oKTsgLy8gU2kgdGllbmVzIHRva2VuIHkgZXN0ZSBubyBlc3RhIGVzcGlyYWRvIHB1ZWRlcyBwYXNhciBzaSBubyByZXR1ZW4KCiAgcmV0dXJuICEhYXV0aFRva2VuICYmICFpc0V4cGlyZWQoYXV0aFRva2VuKTsKfSAvLyBUWVBFX1VTRVIKLy9GdW5jaW9uIHBhcmEgcmVjdXBlcmFyIGVsIHRpcG8gZGUgdXN1YXJpbyAoInVzZXIiLCJvcmdhbml6ZXIiLCJhZG1pbiIpCgpleHBvcnQgZnVuY3Rpb24gZ2V0VHlwZVVzZXIoKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUWVBFX1VTRVInKTsKfSAvLyBPUkdBTklaRVIKLy8gTWV0b2RvIHV0aWxpemFkbyBwYXJhIHNhYmVyIHNpIGVsIHVzdWFyaW8gZXN0YSBsb2dlYWRvIGNvbW8gIm9yZ2FuaXplciIKCmV4cG9ydCBmdW5jdGlvbiBjaGVja0lzT3JnYW5pemVyKCkgewogIHZhciByb2xlID0gbnVsbDsKICB2YXIgb3JnYW5pemVyID0gZ2V0VHlwZVVzZXIoKTsKCiAgaWYgKG9yZ2FuaXplciA9PT0gJ29yZ2FuaXplcicpIHsKICAgIHJvbGUgPSB0cnVlOwogIH0gZWxzZSB7CiAgICByb2xlID0gZmFsc2U7CiAgfQoKICByZXR1cm4gcm9sZTsKfSAvLyBVU0VSCi8vIE1ldG9kbyB1dGlsaXphZG8gcGFyYSBzYWJlciBzaSBlbCB1c3VhcmlvIGVzdGEgbG9nZWFkbyBjb21vICJ1c2VyIgoKZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSXNVc2VyKCkgewogIHZhciByb2xlID0gbnVsbDsKICB2YXIgdXNlciA9IGdldFR5cGVVc2VyKCk7CiAgY29uc29sZS5sb2codXNlcik7CgogIGlmICh1c2VyID09PSAndXNlcicpIHsKICAgIHJvbGUgPSB0cnVlOwogIH0gZWxzZSB7CiAgICByb2xlID0gZmFsc2U7CiAgfQoKICByZXR1cm4gcm9sZTsKfSAvLyBBRE1JTgovLyBNZXRvZG8gdXRpbGl6YWRvIHBhcmEgc2FiZXIgc2kgZWwgdXN1YXJpbyBlc3RhIGxvZ2VhZG8gY29tbyAiYWRtaW4iCgpleHBvcnQgZnVuY3Rpb24gY2hlY2tJc0FkbWluKCkgewogIHZhciByb2xlID0gbnVsbDsKICB2YXIgYWRtaW4gPSBnZXRUeXBlVXNlcigpOwogIGNvbnNvbGUubG9nKGFkbWluKTsKCiAgaWYgKGFkbWluID09PSAndW5kZWZpbmVkJykgewogICAgcm9sZSA9IHRydWU7CiAgfSBlbHNlIHsKICAgIHJvbGUgPSBmYWxzZTsKICB9CgogIHJldHVybiByb2xlOwp9IC8vIEZ1bmNpb24gcGFyYSBjZXJyYXIgbGEgc2VzaW9uIGRlbCB1c3VhcmlvIGNvbiBlbCBxdWUgZXN0ZW1vcyAoYWRtaW4sIG9yZ2FuaXplciwgdXNlcikKCmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICcnOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdBVVRIX1RPS0VOX0tFWScpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdUWVBFX1VTRVInKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnTkFNRScpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdNRVNTQUdFJyk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ1VTRVInKTsKfSAvLyBGdW5jaW9uIHBhcmEgZXN0YWJsZWNlciBlbCBub21icmUgZGVsIHVzdWFyaW8gZW4gZWwgbG9jYWxzdG9yYWdlCgpleHBvcnQgZnVuY3Rpb24gc2V0TmFtZSh1c2VyKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ05BTUUnLCB1c2VyKTsKfSAvLyBGVU5DSU9OIERFIFJFQ1VQRVJBUiBFTCBOT01CUkUgREUgVVNFUiBFTiBMT0NBTFNUT1JBR0UKCmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnTkFNRScpOwp9"},{"version":3,"sources":["/home/raul/Documentos/appMeetup/appmeetup/src/api/utils.js"],"names":["jwt","axios","getAuthToken","localStorage","getItem","tokenExpiration","encodedToken","token","exp","date","Date","setUTCSeconds","isExpired","expirationDate","isLoggedIn","authToken","getTypeUser","checkIsOrganizer","role","organizer","checkIsUser","user","console","log","checkIsAdmin","admin","logout","defaults","headers","common","removeItem","setName","setItem","getName"],"mappings":"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","sourcesContent":["import jwt from 'jwt-decode'\nimport axios from 'axios'\n\n\n// TOKEN\n\nexport function getAuthToken(){\n    return localStorage.getItem('AUTH_TOKEN_KEY')\n}\n\n//Function to get the expiratio date of the token\n\nexport function tokenExpiration(encodedToken){\n    let token = jwt(encodedToken)\n    if(!token.exp){\n        return null\n    }\n    let date = new Date(0)\n    date.setUTCSeconds(token.exp)\n    return date\n}\n\n// Function to check if the token is operational or not \n\nexport function isExpired(token){\n    let expirationDate = tokenExpiration(token)\n    return expirationDate < new Date()\n}\n\n\n//Â¿ESTA LOGEADO O NO?\n\nexport function isLoggedIn(){\n    // Conseguimos el token de la funcion anterior\n    let authToken = getAuthToken();\n    // Si tienes token y este no esta espirado puedes pasar si no retuen\n    return !!authToken && !isExpired(authToken)\n}\n\n// TYPE_USER\n//Funcion para recuperar el tipo de usuario (\"user\",\"organizer\",\"admin\")\nexport function getTypeUser(){\n    \n    return localStorage.getItem('TYPE_USER')\n}\n\n\n// ORGANIZER\n// Metodo utilizado para saber si el usuario esta logeado como \"organizer\"\n\nexport function checkIsOrganizer(){\n    let role = null\n    let organizer = getTypeUser()\n    if(organizer === 'organizer'){\n        role = true\n    }else{\n        role=false\n    }\n    return role\n}\n\n// USER\n// Metodo utilizado para saber si el usuario esta logeado como \"user\"\nexport function checkIsUser(){\n    let role = null\n    let user = getTypeUser()\n    console.log(user)\n\n    if(user === 'user'){\n        role = true\n    }else{\n        role=false\n    }\n\n    return role\n}\n\n// ADMIN\n// Metodo utilizado para saber si el usuario esta logeado como \"admin\"\n\n\nexport function checkIsAdmin(){\n    let role = null\n    let admin = getTypeUser()\n    console.log(admin)\n    if(admin === 'undefined'){\n        role = true\n    }else{\n        role=false\n    }\n    return role\n}\n\n// Funcion para cerrar la sesion del usuario con el que estemos (admin, organizer, user)\nexport function logout(){\n    axios.defaults.headers.common['Authorization'] = ''\n    localStorage.removeItem('AUTH_TOKEN_KEY')\n    localStorage.removeItem('TYPE_USER')\n    localStorage.removeItem('NAME')\n    localStorage.removeItem('MESSAGE')\n    localStorage.removeItem('USER')\n}\n\n\n// Funcion para establecer el nombre del usuario en el localstorage\nexport function setName(user){\n    localStorage.setItem('NAME',user)\n}\n\n\n// FUNCION DE RECUPERAR EL NOMBRE DE USER EN LOCALSTORAGE\n\nexport function getName(){\n    return localStorage.getItem('NAME')\n}\n\n\n"]}]}