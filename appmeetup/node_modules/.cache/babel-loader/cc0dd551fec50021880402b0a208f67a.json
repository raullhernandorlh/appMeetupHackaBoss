{"remainingRequest":"/home/raul/Documentos/appMeetup/appmeetup/node_modules/babel-loader/lib/index.js!/home/raul/Documentos/appMeetup/appmeetup/src/api/utils.js","dependencies":[{"path":"/home/raul/Documentos/appMeetup/appmeetup/src/api/utils.js","mtime":1597045953373},{"path":"/home/raul/Documentos/appMeetup/appmeetup/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raul/Documentos/appMeetup/appmeetup/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGp3dCBmcm9tICdqd3QtZGVjb2RlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8gRnVjbnRpb24gdG8gcmV0cmlldmUgdGhlIHRva2VuIGZyb20gbG9jYWwgc3RvcmFnZQoKZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGhUb2tlbigpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0FVVEhfVE9LRU5fS0VZJyk7Cn0gLy9GdW5jdGlvbiB0byBnZXQgdGhlIGV4cGlyYXRpbyBkYXRlIG9mIHRoZSB0b2tlbgoKZXhwb3J0IGZ1bmN0aW9uIHRva2VuRXhwaXJhdGlvbihlbmNvZGVkVG9rZW4pIHsKICB2YXIgdG9rZW4gPSBqd3QoZW5jb2RlZFRva2VuKTsKCiAgaWYgKCF0b2tlbi5leHApIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgwKTsKICBkYXRlLnNldFVUQ1NlY29uZHModG9rZW4uZXhwKTsKICByZXR1cm4gZGF0ZTsKfSAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgdG9rZW4gaXMgb3BlcmF0aW9uYWwgb3Igbm90IAoKZXhwb3J0IGZ1bmN0aW9uIGlzRXhwaXJlZCh0b2tlbikgewogIHZhciBleHBpcmF0aW9uRGF0ZSA9IHRva2VuRXhwaXJhdGlvbih0b2tlbik7CiAgcmV0dXJuIGV4cGlyYXRpb25EYXRlIDwgbmV3IERhdGUoKTsKfSAvLyBGdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGUgcGVyc29uIGlzIGxvZ2dlZCBhbmQgaWYgdGhlIHRva2VuIGlzIHZhbGlkCgpleHBvcnQgZnVuY3Rpb24gaXNMb2dnZWRJbigpIHsKICAvLyBDb25zZWd1aW1vcyBlbCB0b2tlbiBkZSBsYSBmdW5jaW9uIGFudGVyaW9yCiAgdmFyIGF1dGhUb2tlbiA9IGdldEF1dGhUb2tlbigpOyAvLyBTaSB0aWVuZXMgdG9rZW4geSBlc3RlIG5vIGVzdGEgZXNwaXJhZG8gcHVlZGVzIHBhc2FyIHNpIG5vIHJldHVlbgoKICByZXR1cm4gISFhdXRoVG9rZW4gJiYgIWlzRXhwaXJlZChhdXRoVG9rZW4pOwp9IC8vIEZ1bmNpb24gcGFyYSByZWNpYmlyIGVsIHRpcG8gZGUgdXN1YXJpbyBkZWwgTG9jYWxTdHJvcmFnZSAoYWRtaW4sdXNlcixvcmdhbml6ZXIpCgpleHBvcnQgZnVuY3Rpb24gZ2V0VHlwZVVzZXIoKSB7CiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdUWVBFX1VTRVInKTsKfSAvLyBDT01QUk9CQU5ETyBFTCBUSVBPIERFIFVTVUFSSU8gUVVFIFZJRU5FIERFTCBMT0NBTF9TVE9SQUdFCi8vIEZ1bmNpb24gcGFyYSBjb21wcm9iYXIgc2kgZXMgdXN1YXJpbyBPcmdhbml6ZXIKCmV4cG9ydCBmdW5jdGlvbiBjaGVja0lzT3JnYW5pemVyKCkgewogIHZhciByb2xlID0gbnVsbDsKICB2YXIgb3JnYW5pemVyID0gZ2V0VHlwZVVzZXIoKTsKCiAgaWYgKG9yZ2FuaXplciA9PT0gJ29yZ2FuaXplcicpIHsKICAgIHJvbGUgPSB0cnVlOwogIH0gZWxzZSB7CiAgICByb2xlID0gZmFsc2U7CiAgfQoKICByZXR1cm4gcm9sZTsKfSAvLyBGdW5jaW9uIHBhcmEgY29tcHJvYmFyIHNpIGVsIHVzdWFyaW8gZXMgQWRtaW4KCmV4cG9ydCBmdW5jdGlvbiBjaGVja0lzQWRtaW4oKSB7CiAgdmFyIHJvbGUgPSBudWxsOwogIHZhciBhZG1pbiA9IGdldFR5cGVVc2VyKCk7CgogIGlmIChhZG1pbiA9PT0gJ2FkbWluJykgewogICAgcm9sZSA9IHRydWU7CiAgfSBlbHNlIHsKICAgIHJvbGUgPSBmYWxzZTsKICB9CgogIHJldHVybiByb2xlOwp9IC8vIEZ1bmNpb24gcGFyYSBjb21wcm9iYXIgc2kgZWwgdXN1YXJpbyBlcyBVc2VyCgpleHBvcnQgZnVuY3Rpb24gY2hlY2tJc1VzZXIoKSB7CiAgdmFyIHJvbGUgPSBudWxsOwogIHZhciB1c2VyID0gZ2V0VHlwZVVzZXIoKTsKICBjb25zb2xlLmxvZygiUXVlIHVzdWFyaW8gc2UgZXN0YSBjb2dpZW5kbyBlbiBlbCBtZXRvZG8gY2hlY2sgaXMgdXNlciIpOwogIGNvbnNvbGUubG9nKHVzZXIpOwoKICBpZiAodXNlciA9PT0gJ3VzZXInKSB7CiAgICByb2xlID0gdHJ1ZTsKICB9IGVsc2UgewogICAgcm9sZSA9IGZhbHNlOwogIH0KCiAgcmV0dXJuIHJvbGU7Cn0gLy8gRnVuY2lvbiBwYXJhIGNlcnJhciBsYSBzZXNpb24gZGVsIHVzdWFyaW8gY29uIGVsIHF1ZSBlc3RlbW9zIChhZG1pbiwgb3JnYW5pemVyLCB1c2VyKQoKZXhwb3J0IGZ1bmN0aW9uIGxvZ291dCgpIHsKICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJyc7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0FVVEhfVE9LRU5fS0VZJyk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ1RZUEVfVVNFUicpOwogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdOQU1FJyk7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ01FU1NBR0UnKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnVVNFUicpOwp9IC8vIEZ1bmNpb24gcGFyYSBlc3RhYmxlY2VyIGVsIHVzdWFyaW8gZW4gZWwgbG9jYWxzdG9yYWdlCgpleHBvcnQgZnVuY3Rpb24gc2V0TmFtZSh1c2VyKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ05BTUUnLCB1c2VyKTsKfSAvLyBGVU5DSU9OIERFIFJFQ1VQRVJBUiBFTCBOT01CUkUgREUgVVNFUiBFTiBMT0NBTFNUT1JBR0UKCmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnTkFNRScpOwp9"},{"version":3,"sources":["/home/raul/Documentos/appMeetup/appmeetup/src/api/utils.js"],"names":["jwt","axios","getAuthToken","localStorage","getItem","tokenExpiration","encodedToken","token","exp","date","Date","setUTCSeconds","isExpired","expirationDate","isLoggedIn","authToken","getTypeUser","checkIsOrganizer","role","organizer","checkIsAdmin","admin","checkIsUser","user","console","log","logout","defaults","headers","common","removeItem","setName","setItem","getName"],"mappings":"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","sourcesContent":["import jwt from 'jwt-decode'\nimport axios from 'axios'\n\n\n// Fucntion to retrieve the token from local storage\n\nexport function getAuthToken(){\n    return localStorage.getItem('AUTH_TOKEN_KEY')\n}\n\n//Function to get the expiratio date of the token\n\nexport function tokenExpiration(encodedToken){\n    let token = jwt(encodedToken)\n    if(!token.exp){\n        return null\n    }\n    let date = new Date(0)\n    date.setUTCSeconds(token.exp)\n    return date\n}\n\n// Function to check if the token is operational or not \n\nexport function isExpired(token){\n    let expirationDate = tokenExpiration(token)\n    return expirationDate < new Date()\n}\n\n\n// Function that checks if the person is logged and if the token is valid\n\nexport function isLoggedIn(){\n    // Conseguimos el token de la funcion anterior\n    let authToken = getAuthToken();\n    // Si tienes token y este no esta espirado puedes pasar si no retuen\n    return !!authToken && !isExpired(authToken)\n}\n\n\n\n// Funcion para recibir el tipo de usuario del LocalStrorage (admin,user,organizer)\n\nexport function getTypeUser(){\n    return localStorage.getItem('TYPE_USER')\n}\n\n// COMPROBANDO EL TIPO DE USUARIO QUE VIENE DEL LOCAL_STORAGE\n\n// Funcion para comprobar si es usuario Organizer\n\nexport function checkIsOrganizer(){\n    let role = null\n    let organizer = getTypeUser()\n    if(organizer === 'organizer'){\n        role = true\n    }else{\n        role=false\n    }\n    return role\n}\n\n// Funcion para comprobar si el usuario es Admin\n\nexport function checkIsAdmin(){\n    let role = null\n    let admin = getTypeUser()\n\n    if(admin === 'admin'){\n        role = true\n    }else{\n        role=false\n    }\n    return role\n}\n\n// Funcion para comprobar si el usuario es User\n\nexport function checkIsUser(){\n    let role = null\n    let user = getTypeUser()\n    console.log(\"Que usuario se esta cogiendo en el metodo check is user\")\n    console.log(user)\n    if(user === 'user'){\n        role = true\n    }else{\n        role=false\n    }\n    return role\n}\n\n\n// Funcion para cerrar la sesion del usuario con el que estemos (admin, organizer, user)\nexport function logout(){\n    axios.defaults.headers.common['Authorization'] = ''\n    localStorage.removeItem('AUTH_TOKEN_KEY')\n    localStorage.removeItem('TYPE_USER')\n    localStorage.removeItem('NAME')\n    localStorage.removeItem('MESSAGE')\n    localStorage.removeItem('USER')\n}\n\n\n\n\n// Funcion para establecer el usuario en el localstorage\nexport function setName(user){\n    localStorage.setItem('NAME',user)\n}\n\n\n// FUNCION DE RECUPERAR EL NOMBRE DE USER EN LOCALSTORAGE\n\nexport function getName(){\n    return localStorage.getItem('NAME')\n}\n\n\n"]}]}